{"ast":null,"code":"import _regeneratorRuntime from\"/Users/amymiller/Desktop/Cohort 6/My Project/MyTravelProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/amymiller/Desktop/Cohort 6/My Project/MyTravelProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/amymiller/Desktop/Cohort 6/My Project/MyTravelProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ReverseGeo=function ReverseGeo(){var googleapiKey=\"AIzaSyANa5ItcCEybBMv60dI-9_PUQT_dL1y0Ko\";var _useState=useState(0),_useState2=_slicedToArray(_useState,2),latitude=_useState2[0],setLatitude=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),longitude=_useState4[0],setLongitude=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),cityName=_useState6[0],setCityName=_useState6[1];//Google Maps Reverse Geocode\nvar savePositionToState=function savePositionToState(position){setLatitude(position.coords.latitude);setLongitude(position.coords.longitude);};var getLocation=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return window.navigator.geolocation.getCurrentPosition(savePositionToState);case 2:case\"end\":return _context.stop();}}},_callee);}));return function getLocation(){return _ref.apply(this,arguments);};}();useEffect(function(){getLocation();},[]);var reverseGeo=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"https://maps.googleapis.com/maps/api/geocode/json?latlng=\".concat(latitude,\",\").concat(longitude,\"&key=\").concat(googleapiKey));case 3:response=_context2.sent;setCityName(response.data.results[0].address_components[2].long_name);//reverse geocoding the latlong\n_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0);case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function reverseGeo(){return _ref2.apply(this,arguments);};}();useEffect(function(){if(longitude&&latitude)reverseGeo();},[latitude,longitude]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{className:\"cityNameDiv\",children:cityName})})});};export default ReverseGeo;","map":{"version":3,"sources":["/Users/amymiller/Desktop/Cohort 6/My Project/MyTravelProject/src/components/ReverseGeo.jsx"],"names":["useEffect","useState","axios","ReverseGeo","googleapiKey","latitude","setLatitude","longitude","setLongitude","cityName","setCityName","savePositionToState","position","coords","getLocation","window","navigator","geolocation","getCurrentPosition","reverseGeo","get","response","data","results","address_components","long_name","console","error"],"mappings":"shBAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,gGAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACxB,GAAMC,CAAAA,YAAY,0CAAlB,CACA,cAAgCH,QAAQ,CAAC,CAAD,CAAxC,wCAAOI,QAAP,eAAiBC,WAAjB,eACA,eAAkCL,QAAQ,CAAC,CAAD,CAA1C,yCAAOM,SAAP,eAAkBC,YAAlB,eACA,eAAgCP,QAAQ,CAAC,EAAD,CAAxC,yCAAOQ,QAAP,eAAiBC,WAAjB,eAA8C;AAE9C,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,QAAD,CAAc,CACzCN,WAAW,CAACM,QAAQ,CAACC,MAAT,CAAgBR,QAAjB,CAAX,CACAG,YAAY,CAACI,QAAQ,CAACC,MAAT,CAAgBN,SAAjB,CAAZ,CACA,CAHD,CAKA,GAAMO,CAAAA,WAAW,0FAAG,yJACbC,CAAAA,MAAM,CAACC,SAAP,CAAiBC,WAAjB,CAA6BC,kBAA7B,CAAgDP,mBAAhD,CADa,uDAAH,kBAAXG,CAAAA,WAAW,0CAAjB,CAIAd,SAAS,CAAC,UAAM,CACfc,WAAW,GACX,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMK,CAAAA,UAAU,2FAAG,6LAEMjB,CAAAA,KAAK,CAACkB,GAAN,oEACsCf,QADtC,aACkDE,SADlD,iBACmEH,YADnE,EAFN,QAEXiB,QAFW,gBAKjBX,WAAW,CAACW,QAAQ,CAACC,IAAT,CAAcC,OAAd,CAAsB,CAAtB,EAAyBC,kBAAzB,CAA4C,CAA5C,EAA+CC,SAAhD,CAAX,CAAuE;AALtD,mFAOjBC,OAAO,CAACC,KAAR,eAPiB,sEAAH,kBAAVR,CAAAA,UAAU,2CAAhB,CAWAnB,SAAS,CAAC,UAAM,CACf,GAAIO,SAAS,EAAIF,QAAjB,CAA2Bc,UAAU,GACrC,CAFQ,CAEN,CAACd,QAAD,CAAWE,SAAX,CAFM,CAAT,CAGA,mBACC,sCACC,kCACC,WAAI,SAAS,CAAC,aAAd,UAA6BE,QAA7B,EADD,EADD,EADD,CAOA,CAxCD,CA0CA,cAAeN,CAAAA,UAAf","sourcesContent":["import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nconst ReverseGeo = () => {\n\tconst googleapiKey = `AIzaSyANa5ItcCEybBMv60dI-9_PUQT_dL1y0Ko`;\n\tconst [latitude, setLatitude] = useState(0);\n\tconst [longitude, setLongitude] = useState(0);\n\tconst [cityName, setCityName] = useState(\"\"); //Google Maps Reverse Geocode\n\n\tconst savePositionToState = (position) => {\n\t\tsetLatitude(position.coords.latitude);\n\t\tsetLongitude(position.coords.longitude);\n\t};\n\n\tconst getLocation = async () => {\n\t\tawait window.navigator.geolocation.getCurrentPosition(savePositionToState);\n\t};\n\n\tuseEffect(() => {\n\t\tgetLocation();\n\t}, []);\n\n\tconst reverseGeo = async () => {\n\t\ttry {\n\t\t\tconst response = await axios.get(\n\t\t\t\t`https://maps.googleapis.com/maps/api/geocode/json?latlng=${latitude},${longitude}&key=${googleapiKey}`\n\t\t\t);\n\t\t\tsetCityName(response.data.results[0].address_components[2].long_name); //reverse geocoding the latlong\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif (longitude && latitude) reverseGeo();\n\t}, [latitude, longitude]);\n\treturn (\n\t\t<>\n\t\t\t<div>\n\t\t\t\t<h2 className=\"cityNameDiv\">{cityName}</h2>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nexport default ReverseGeo;\n"]},"metadata":{},"sourceType":"module"}